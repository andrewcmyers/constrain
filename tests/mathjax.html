<!DOCTYPE html>
<html lang="en-US">
<head>
  <script src="../numeric-1.2.6.js"></script>
  <script async onload="createFigure()" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"></script>
  <script src="../constrain.js"></script>
  <script src="../constrain-mathjax.js"></script>
  <style>
    canvas {
        width: 400px;
        height: 300px;
    }
    h1 {
        font-family: sans-serif
    }
</style>
  
</head>
<body>
<h1>MathJax test</h1>
<p>This page shows that it is easy to add TeX math formulas, formatted by MathJax,
to a diagram.</p>
<canvas id="mj"></canvas>
<script>
function createFigure() {
    with (new Constrain.Figure("mj")) {
        const m = margin(10), r = rectangle().inset(5)
        setFontSize(16)
        equal(m.center(), r.center())
        sameSize(m, r)
        let f1 = mathJax("a^2 + b^2 = c^2").expand(5),
            f2 = mathJax("\\sum_{n=1}^\\infty{1 \\over x_n + y_n} = z^2").expand(5)
        align("left", "top", r, f1)
        align("right", "bottom", r, f2)
        setConnectionStyle("intersection")
        connector(f1, f2).setLineWidth(2).setStrokeStyle("red")
        start()
    }
}
</script>
</body>
</html>
